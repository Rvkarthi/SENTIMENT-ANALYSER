<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- w3 animation -->
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css"> 
    <!-- animate css -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <!-- bootstrap -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <!-- css  -->
    <style>
        textarea{
            height: 30vh;
            border-radius: 15px;
            font-size: 3rem;
        }
    </style>
    <link rel="stylesheet" href="MyStyle.css">
    <title>Document</title>
</head>
<body>
    
    <div class="container  vh-100 ">
        <h1 class="title display-2 text-center tw-bold">Review analyzer</h1>
        
        <div class="container d-flex align-items-center
        flex-column my-5">
            <textarea id="userText" name="" placeholder="write your review here !!" class="col-12 col-md-10 para text-third p-3 bg-sec" id=""></textarea>
            <button onclick="analyzeMood()" class="btn btn-success mt-5">Submit Review</button>
            <div  class="card-transparent col-10">
                <div id="result" class="para fs-5 text-dark"></div>
            </div>
        </div>

    </div>

    <footer class="text-center py-4 text-dark text-sm">
        &copy; 2025 <a href="https://karthikrishna.vercel.app/" target="_blank" class="text-blue-500 hover:underline">Karthikrishna</a>. All rights reserved.
    </footer>
    
    
    <script>
        async function analyzeMood() {
            let text = document.getElementById("userText").value.trim();

            if (!text) {
                document.getElementById("result").innerHTML = "Please enter some text!";
                return;
            }

            try {
    let response = await fetch("https://sentiment-analyser-8iyf.onrender.com/analyze", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ text })
    });

    let data = await response.json();
    let resultDiv = document.getElementById("result");
    resultDiv.innerHTML = ""; // Clear previous result
    textvalue = data.mood
    textvalue.forEach((item, index) => {
        setTimeout(() => {
            resultDiv.innerHTML += `${item} <br>`;
        }, index * 2000); // Delay each mood display
    });

} catch (error) {
    document.getElementById("result").innerHTML = "Error analyzing mood!";
}

        }
    </script>
    <!-- bootstrap -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- bootstrap -->
</body>

</html>